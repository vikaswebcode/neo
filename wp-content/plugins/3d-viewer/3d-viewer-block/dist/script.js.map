{"version":3,"file":"script.js","mappings":"yBAAA,IAAI,EAA+BA,MCA/B,EAA+BC,SCenC,EAfc,SAAC,GAA6B,IAA3BC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACpBC,EAA6BF,EAA7BE,UAAWC,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OAE1B,OAAO,6BAAOC,wBAAyB,CACtCC,OAAQ,mCACaL,EADb,mDAEOC,EAFP,4CAIaD,EAJb,2DAKE,CAAC,MAAO,KAAM,OAAOM,SAASJ,GAAS,OAASA,EALlD,4BAMG,QAAUC,GAAU,OAASA,GAAU,QAAUA,EAAS,QAAUA,EANvE,kBAQNI,QAAQ,OAAQ,SCVdC,EAAW,SAAC,EAAgBC,GAAQ,IAAtBV,EAAsB,EAAtBA,WACXW,EAA8CX,EAA9CW,WAAYC,EAAkCZ,EAAlCY,MAAOC,EAA2Bb,EAA3Ba,UAAWC,EAAgBd,EAAhBc,YAEtC,OAAO,2BAAKC,UAAU,oBAAoBL,IAAKA,GAC9C,oCACCM,IAAK,WAAaL,EAAaC,aAA1B,EAA0BA,EAAOK,IAAMJ,EAC5CK,IAAK,WAAaP,EAAaC,aAA1B,EAA0BA,EAAOO,MAAQ,GAC9C,qBACAC,QAASN,EACT,qBAIH,GAAeO,EAAAA,EAAAA,YAAWZ,GCP1Ba,SAASC,iBAAiB,oBAAoB,WACzBD,SAASE,iBAAiB,4BAClCC,SAAQ,SAAAC,GACnB,IAAM1B,EAAa2B,KAAKC,MAAMF,EAASG,QAAQ7B,aAE/C8B,EAAAA,EAAAA,QAAO,wCACN,oBAAC,EAAD,CAAO9B,WAAYA,EAAYC,SAAUD,EAAW+B,MAEpD,oBAACC,EAAD,CAAgBhC,WAAYA,KACxB0B,GAELA,SAAAA,EAAUO,gBAAgB,yBAI5B,IAAMD,EAAiB,SAAC,GAAmB,IAAjBhC,EAAiB,EAAjBA,WACjBkC,EAAwBlC,EAAxBkC,YAAaC,EAAWnC,EAAXmC,OAEfC,GAAoBC,EAAAA,EAAAA,QAAO,MAE3BC,EAAa,SAACC,EAAUC,EAAWC,EAAWC,GACnDF,IAAaD,SAAAA,EAAUI,aAAaF,EAAWC,KAC9CF,IAAaD,SAAAA,EAAUN,gBAAgBQ,EAAWC,KASpD,OANAE,EAAAA,EAAAA,YAAU,WACT,IAAMhC,EAAQU,SAASuB,cAAT,WAA2BT,EAAkBU,QAAQC,UAAU,GAA/D,kBACdT,EAAW1B,EAAOsB,EAAa,kBAAmB,IAClDI,EAAW1B,GAAQuB,EAAQ,eAAgB,MACzC,CAACC,EAAkBU,UAEf,oBAAC,EAAD,CAAU9C,WAAYA,EAAYU,IAAK0B,K","sources":["webpack://3d-viewer-block/external var \"React\"","webpack://3d-viewer-block/external var \"ReactDOM\"","webpack://3d-viewer-block/./src/Style.js","webpack://3d-viewer-block/./src/TDViewer.js","webpack://3d-viewer-block/./src/script.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = React;","var __WEBPACK_NAMESPACE_OBJECT__ = ReactDOM;","const Style = ({ attributes, clientId }) => {\r\n\tconst { alignment, width, height } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock{\r\n\t\t\ttext-align: ${alignment};\r\n\t\t}\r\n\t\t#tdvb3DViewerBlock-${clientId} .tdvb3DViewerBlock model-viewer{\r\n\t\t\twidth: ${['0px', '0%', '0em'].includes(width) ? 'auto' : width};\r\n\t\t\theight: ${'0px' === height || '0%' === height || '0em' === height ? '350px' : height};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","import { forwardRef } from 'react';\r\n\r\nconst TDViewer = ({ attributes }, ref) => {\r\n\tconst { sourceType, model, modelLink, loadingType } = attributes;\r\n\r\n\treturn <div className='tdvb3DViewerBlock' ref={ref}>\r\n\t\t<model-viewer\r\n\t\t\tsrc={'upload' === sourceType ? model?.url : modelLink}\r\n\t\t\talt={'upload' === sourceType ? model?.title : ''}\r\n\t\t\tcamera-controls\r\n\t\t\tloading={loadingType}\r\n\t\t\tauto-rotate\r\n\t\t></model-viewer>\r\n\t</div>\r\n}\r\nexport default forwardRef(TDViewer);","import { useEffect, useRef } from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\nimport TDViewer from './TDViewer';\r\n\r\n// 3D Viewer\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allTDViewer = document.querySelectorAll('.wp-block-tdvb-td-viewer');\r\n\tallTDViewer.forEach(tDViewer => {\r\n\t\tconst attributes = JSON.parse(tDViewer.dataset.attributes);\r\n\r\n\t\trender(<>\r\n\t\t\t<Style attributes={attributes} clientId={attributes.cId} />\r\n\r\n\t\t\t<RenderTDViewer attributes={attributes} />\r\n\t\t</>, tDViewer);\r\n\r\n\t\ttDViewer?.removeAttribute('data-attributes');\r\n\t});\r\n});\r\n\r\nconst RenderTDViewer = ({ attributes }) => {\r\n\tconst { isTouchMove, isZoom } = attributes;\r\n\r\n\tconst tdvb3DViewerBlock = useRef(null);\r\n\r\n\tconst toggleAttr = (selector, condition, attribute, value) => {\r\n\t\tcondition && selector?.setAttribute(attribute, value);\r\n\t\t!condition && selector?.removeAttribute(attribute, value);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst model = document.querySelector(`.${tdvb3DViewerBlock.current.classList[0]} model-viewer`);\r\n\t\ttoggleAttr(model, isTouchMove, 'camera-controls', '');\r\n\t\ttoggleAttr(model, !isZoom, 'disable-zoom', '');\r\n\t}, [tdvb3DViewerBlock.current])\r\n\r\n\treturn <TDViewer attributes={attributes} ref={tdvb3DViewerBlock} />\r\n}"],"names":["React","ReactDOM","attributes","clientId","alignment","width","height","dangerouslySetInnerHTML","__html","includes","replace","TDViewer","ref","sourceType","model","modelLink","loadingType","className","src","url","alt","title","loading","forwardRef","document","addEventListener","querySelectorAll","forEach","tDViewer","JSON","parse","dataset","render","cId","RenderTDViewer","removeAttribute","isTouchMove","isZoom","tdvb3DViewerBlock","useRef","toggleAttr","selector","condition","attribute","value","setAttribute","useEffect","querySelector","current","classList"],"sourceRoot":""}